(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{4550:function(e,r,n){Promise.resolve().then(n.bind(n,5078))},2921:function(e,r,n){"use strict";var s=n(6168);n.o(s,"useRouter")&&n.d(r,{useRouter:function(){return s.useRouter}})},5078:function(e,r,n){"use strict";n.r(r);var s=n(2265),t=n(2921),a=n(2592),o=n(7437);r.default=()=>{let[e,r]=(0,s.useState)(""),[n,u]=(0,s.useState)(""),[l,c]=(0,s.useState)(""),i=(0,t.useRouter)(),{login:d}=(0,a.a)(),m=async r=>{r.preventDefault(),"admin"===e&&"admin123"===n?(d({username:e}),i.push("/admin")):c("Identifiants incorrects")};return(0,o.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,o.jsxs)("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Connexion Administration"}),(0,o.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Entrez vos identifiants pour acc\xe9der \xe0 l'espace d'administration"})]}),(0,o.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:m,children:[l&&(0,o.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:(0,o.jsx)("span",{className:"block sm:inline",children:l})}),(0,o.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"username",className:"sr-only",children:"Nom d'utilisateur"}),(0,o.jsx)("input",{id:"username",name:"username",type:"text",required:!0,value:e,onChange:e=>r(e.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-eeadb-blue-500 focus:border-eeadb-blue-500 focus:z-10 sm:text-sm",placeholder:"Nom d'utilisateur"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Mot de passe"}),(0,o.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:e=>u(e.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-eeadb-blue-500 focus:border-eeadb-blue-500 focus:z-10 sm:text-sm",placeholder:"Mot de passe"})]})]}),(0,o.jsx)("div",{children:(0,o.jsx)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-eeadb-blue-600 hover:bg-eeadb-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-eeadb-blue-500",children:"Se connecter"})})]})]})})}},2592:function(e,r,n){"use strict";n.d(r,{a:function(){return u},default:function(){return i}});var s=n(2265),t=n(2921),a=n(7437);let o=(0,s.createContext)();function u(){return(0,s.useContext)(o)}let l=()=>{{let e=new URLSearchParams(window.location.search).get("token");if(e)return c(e)}return!1},c=e=>"admin123"===e;function i(e){let{children:r}=e,[n,u]=(0,s.useState)(null),[c,i]=(0,s.useState)(!0),d=(0,t.useRouter)(),m=async e=>{try{if(e&&e.username)return u(e),{success:!0,message:"Connexion r\xe9ussie"};return{success:!1,message:"Donn\xe9es d'utilisateur manquantes"}}catch(e){return{success:!1,message:"Erreur de connexion"}}},p=async()=>{try{u(null),d.push("/")}catch(e){console.error("Erreur de d\xe9connexion:",e)}},x=async()=>{try{l()?u({name:"Membre privil\xe9gi\xe9",role:"private_access"}):u(null)}catch(e){console.error("Erreur lors de la v\xe9rification de l'authentification:",e),u(null)}finally{i(!1)}};return(0,s.useEffect)(()=>{x()},[]),(0,a.jsx)(o.Provider,{value:{user:n,login:m,logout:p,loading:c,checkAuthStatus:x},children:r})}}},function(e){e.O(0,[971,529,744],function(){return e(e.s=4550)}),_N_E=e.O()}]);