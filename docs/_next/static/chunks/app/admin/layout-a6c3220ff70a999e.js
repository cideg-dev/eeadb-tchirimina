(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91,988],{2713:function(e,n,r){Promise.resolve().then(r.bind(r,2592))},2921:function(e,n,r){"use strict";var t=r(6168);r.o(t,"useRouter")&&r.d(n,{useRouter:function(){return t.useRouter}})},2592:function(e,n,r){"use strict";r.d(n,{a:function(){return o},default:function(){return l}});var t=r(2265),u=r(2921),s=r(7437);let c=(0,t.createContext)();function o(){return(0,t.useContext)(c)}let i=()=>{{let e=new URLSearchParams(window.location.search).get("token");if(e)return a(e)}return!1},a=e=>"admin123"===e;function l(e){let{children:n}=e,[r,o]=(0,t.useState)(null),[a,l]=(0,t.useState)(!0),f=(0,u.useRouter)(),d=async e=>{try{if(e&&e.username)return o(e),{success:!0,message:"Connexion r\xe9ussie"};return{success:!1,message:"Donn\xe9es d'utilisateur manquantes"}}catch(e){return{success:!1,message:"Erreur de connexion"}}},h=async()=>{try{o(null),f.push("/")}catch(e){console.error("Erreur de d\xe9connexion:",e)}},m=async()=>{try{i()?o({name:"Membre privil\xe9gi\xe9",role:"private_access"}):o(null)}catch(e){console.error("Erreur lors de la v\xe9rification de l'authentification:",e),o(null)}finally{l(!1)}};return(0,t.useEffect)(()=>{m()},[]),(0,s.jsx)(c.Provider,{value:{user:r,login:d,logout:h,loading:a,checkAuthStatus:m},children:n})}}},function(e){e.O(0,[971,529,744],function(){return e(e.s=2713)}),_N_E=e.O()}]);