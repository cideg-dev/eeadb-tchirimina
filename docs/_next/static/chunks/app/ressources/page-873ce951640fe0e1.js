(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[175],{2637:function(e,t,r){Promise.resolve().then(r.bind(r,6644)),Promise.resolve().then(r.bind(r,5637))},5637:function(e,t,r){"use strict";var a=r(2265),s=r(3674),i=r(7437);t.default=e=>{let{resources:t=[]}=e,[r,n]=(0,a.useState)(t),[l,o]=(0,a.useState)(t),[c,d]=(0,a.useState)("all"),[u,h]=(0,a.useState)("all"),[m,p]=(0,a.useState)(""),[f,b]=(0,a.useState)("date-desc"),[x,g]=(0,a.useState)(0===t.length),v=["all",...new Set(r.map(e=>e.category||"autre"))],j=["all",...new Set(r.map(e=>e.type||"autre"))];return(0,a.useEffect)(()=>{(async()=>{try{if(t&&t.length>0)n(t);else{let e=await (0,s.jh)();n(e)}}catch(e){console.error("Erreur lors du chargement des ressources:",e),n([])}finally{g(!1)}})()},[t]),(0,a.useEffect)(()=>{let e=r;if("all"!==c&&(e=e.filter(e=>e.category===c)),"all"!==u&&(e=e.filter(e=>e.type===u)),m){let t=m.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t))}e.sort((e,t)=>{switch(f){case"date-asc":return new Date(e.date)-new Date(t.date);case"date-desc":default:return new Date(t.date)-new Date(e.date);case"title-asc":return e.title.localeCompare(t.title);case"title-desc":return t.title.localeCompare(e.title)}}),o(e)},[c,u,m,f,r]),(0,i.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold text-eeadb-blue mb-4",children:"Recherche et filtres"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-eeadb-blue font-medium mb-2",children:"Recherche"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("input",{type:"search",placeholder:"Rechercher...",className:"w-full p-3 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-eeadb-blue focus:border-transparent",value:m,onChange:e=>p(e.target.value)}),(0,i.jsx)("i",{className:"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),m&&(0,i.jsx)("button",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>p(""),children:(0,i.jsx)("i",{className:"fas fa-times"})})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-eeadb-blue font-medium mb-2",children:"Cat\xe9gorie"}),(0,i.jsx)("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-eeadb-blue focus:border-transparent",value:c,onChange:e=>d(e.target.value),children:v.map(e=>(0,i.jsx)("option",{value:e,children:"all"===e?"Toutes les cat\xe9gories":e},e))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-eeadb-blue font-medium mb-2",children:"Type"}),(0,i.jsx)("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-eeadb-blue focus:border-transparent",value:u,onChange:e=>h(e.target.value),children:j.map(e=>(0,i.jsx)("option",{value:e,children:"all"===e?"Tous les types":e},e))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-eeadb-blue font-medium mb-2",children:"Trier par"}),(0,i.jsxs)("select",{className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-eeadb-blue focus:border-transparent",value:f,onChange:e=>b(e.target.value),children:[(0,i.jsx)("option",{value:"date-desc",children:"Date (r\xe9centes en premier)"}),(0,i.jsx)("option",{value:"date-asc",children:"Date (anciennes en premier)"}),(0,i.jsx)("option",{value:"title-asc",children:"Titre (A-Z)"}),(0,i.jsx)("option",{value:"title-desc",children:"Titre (Z-A)"})]})]})]})]}),(0,i.jsxs)("div",{className:"mb-4 text-gray-600",children:[l.length," ",1===l.length?"ressource":"ressources"," trouv\xe9e",l.length>1?"s":""]}),x?(0,i.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-eeadb-blue"})}):0===l.length?(0,i.jsxs)("div",{className:"text-center py-16",children:[(0,i.jsx)("i",{className:"fas fa-file-alt text-5xl text-gray-300 mb-4"}),(0,i.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"Aucune ressource trouv\xe9e"}),(0,i.jsx)("p",{className:"text-gray-500",children:"Essayez de modifier vos crit\xe8res de recherche"})]}):(0,i.jsx)("div",{className:"space-y-4",children:l.map(e=>(0,i.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:(0,i.jsxs)("div",{className:"flex justify-between items-start",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,i.jsx)("span",{className:"bg-eeadb-blue text-white p-2 rounded-lg",children:"pdf"===e.type?(0,i.jsx)("i",{className:"fas fa-file-pdf"}):"audio"===e.type?(0,i.jsx)("i",{className:"fas fa-file-audio"}):"video"===e.type?(0,i.jsx)("i",{className:"fas fa-file-video"}):(0,i.jsx)("i",{className:"fas fa-file-alt"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-semibold text-eeadb-blue",children:e.title}),(0,i.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-1",children:[(0,i.jsx)("span",{className:"bg-blue-100 text-eeadb-blue px-2 py-1 rounded",children:e.category||"Autre"}),(0,i.jsx)("span",{children:new Date(e.date).toLocaleDateString("fr-FR")})]})]})]}),e.description&&(0,i.jsx)("p",{className:"text-gray-700 mt-2",children:e.description})]}),(0,i.jsxs)("a",{href:e.url||"#",target:"_blank",rel:"noopener noreferrer",className:"bg-eeadb-blue text-white px-4 py-2 rounded-lg hover:bg-eeadb-blue-dark transition-colors flex items-center",children:[(0,i.jsx)("i",{className:"fas fa-download mr-2"}),"T\xe9l\xe9charger"]})]})},e.id))})]})}},3674:function(e,t,r){"use strict";r.d(t,{jh:function(){return h},lR:function(){return c},vw:function(){return d},wP:function(){return u}});let a="/eeadb-tchirimina",s={"verset_du_jour.json":"".concat(a,"/data/verset_du_jour.json"),"events.json":"".concat(a,"/data/events.json"),"photos.json":"".concat(a,"/data/photos.json"),"resources.json":"".concat(a,"/data/resources.json")},i={verset:{date:new Date().toISOString().split("T")[0],text:"Apportez toutes les d\xeemes \xe0 la maison du tr\xe9sor, afin qu'il y ait de la nourriture dans ma maison; mettez-moi ainsi \xe0 l'\xe9preuve, dit l'\xc9ternel des arm\xe9es, et voyez si je ne vous ouvre pas les fen\xeatres des cieux, si je ne r\xe9pands pas sur vous une b\xe9n\xe9diction jusqu'\xe0 ce qu'il n'y ait plus de place.",reference:"Malachie 3:10",source:"Bible Segond 21"},events:[{id:"fallback-1",title:"Culte dominical",start:new Date().toISOString(),end:new Date(Date.now()+72e5).toISOString(),description:"Culte hebdomadaire du dimanche matin",location:"Temple BERACA"}],photos:[{id:1,src:"/eeadb-tchirimina/images/placeholder-culte.svg",alt:"Culte dominical",title:"Culte du dimanche matin",description:"Notre culte hebdomadaire du dimanche"},{id:2,src:"/eeadb-tchirimina/images/placeholder-priere.svg",alt:"Groupe de pri\xe8re",title:"Groupe de pri\xe8re",description:"Groupe de pri\xe8re intercession"},{id:3,src:"/eeadb-tchirimina/images/placeholder-ecole.svg",alt:"\xc9cole dominicale",title:"\xc9cole dominicale",description:"\xc9cole biblique pour enfants"}],resources:[{id:1,title:"Guide de pri\xe8re",description:"Guide complet sur la pri\xe8re dans la vie chr\xe9tienne",type:"document",date:new Date().toISOString().split("T")[0]},{id:2,title:"\xc9tude sur la sanctification",description:"\xc9tude approfondie sur la sanctification progressive",type:"document",date:new Date().toISOString().split("T")[0]},{id:3,title:"Cantiques et louanges",description:"Collection de cantiques et chants d'adoration",type:"audio",date:new Date().toISOString().split("T")[0]}]},n=e=>Object.keys(s).includes(e),l=async e=>{try{let t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"},signal:AbortSignal.timeout(5e3)});if(!t.ok)throw Error("Erreur HTTP: ".concat(t.status));let r=await t.json();if(!r||Array.isArray(r)&&0===r.length)throw Error("Donn\xe9es vides re\xe7ues");return r}catch(t){return console.warn("[DataService] Erreur lors du chargement depuis ".concat(e,": ").concat(t.message)),null}},o=async e=>{if(!n(e))return console.warn("[DataService] Endpoint non autoris\xe9: ".concat(e)),i[e.split(".")[0]]||[];let t=s[e];return await l(t)||i[e.split(".")[0]]||[]},c=async()=>{try{let e=await o("verset_du_jour.json");if(!e||!e.verset&&!e.text)throw Error("Structure de donn\xe9es invalide");return{text:e.verset||e.text,reference:e.reference||"R\xe9f\xe9rence non disponible",source:e.source||"Source inconnue"}}catch(e){return console.warn("[DataService] Erreur getVersetDuJour, utilisation fallback"),i.verset}},d=async()=>{try{let e=await o("events.json");return Array.isArray(e)?e:i.events}catch(e){return console.warn("[DataService] Erreur getEvents, utilisation fallback"),i.events}},u=async()=>{try{let e=await o("photos.json");return Array.isArray(e)?e:i.photos}catch(e){return console.warn("[DataService] Erreur getPhotos, utilisation fallback"),i.photos}},h=async()=>{try{let e=await o("resources.json");return Array.isArray(e)?e:i.resources}catch(e){return console.warn("[DataService] Erreur getResources, utilisation fallback"),i.resources}}}},function(e){e.O(0,[877,644,971,529,744],function(){return e(e.s=2637)}),_N_E=e.O()}]);