"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[896],{1896:function(e,t,r){r.r(t);var a=r(2265),s=r(3674),i=r(7437);let n=()=>{let[e,t]=(0,a.useState)({width:0,height:0});return(0,a.useEffect)(()=>{let e=()=>{t({width:window.innerWidth,height:window.innerHeight})};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),e};t.default=e=>{let{events:t=[]}=e,[l,o]=(0,a.useState)("dayGridMonth"),[d,c]=(0,a.useState)(null),[u,m]=(0,a.useState)([]),[b,h]=(0,a.useState)(!0),x=(0,a.useRef)(null),[f,p]=(0,a.useState)(l),{width:g}=n();(0,a.useEffect)(()=>{(async()=>{try{if(t&&t.length>0)m(t);else{let e=await (0,s.vw)();m(e)}}catch(e){console.error("Erreur lors du chargement des \xe9v\xe9nements:",e),m([])}finally{h(!1)}})()},[t]),(0,a.useEffect)(()=>{if(x.current){let e=null,t=setTimeout(async()=>{try{if(0===u.length)return;let{Calendar:t}=await Promise.all([r.e(554),r.e(235)]).then(r.bind(r,7235)),{default:a}=await Promise.all([r.e(554),r.e(235),r.e(452),r.e(782)]).then(r.bind(r,7782)),{default:s}=await Promise.all([r.e(554),r.e(235),r.e(452),r.e(83)]).then(r.bind(r,8083)),{default:i}=await Promise.all([r.e(554),r.e(235),r.e(329)]).then(r.bind(r,2329));(e=new t(x.current,{plugins:[a,s,i],initialView:l,events:u.map(e=>({...e,start:e.start?new Date(e.start).toISOString().split("T")[0]:null,end:e.end?new Date(e.end).toISOString().split("T")[0]:null})),locale:"fr",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},eventClick:function(e){var t,r;c({title:e.event.title,start:e.event.start,end:e.event.end,description:null===(t=e.event.extendedProps)||void 0===t?void 0:t.description,location:null===(r=e.event.extendedProps)||void 0===r?void 0:r.location})},dayMaxEvents:!0,eventDisplay:"block",height:"auto",contentHeight:g<768?500:600,aspectRatio:g<768?1.2:1.8,fixedWeekCount:!1,weekends:!0,navLinks:!0,nowIndicator:!0,editable:!1,selectable:!1,selectMirror:!0,dayMaxEventRows:g<768?2:4,views:{dayGridMonth:{dayMaxEventRows:g<768?2:3},timeGridWeek:{slotDuration:"00:30:00",slotEventOverlap:!1},timeGridDay:{slotDuration:"00:30:00",slotEventOverlap:!1}},initialDate:new Date,showNonCurrentDates:!1,progressiveEventRendering:!0})).render()}catch(e){console.error("Erreur lors de l'initialisation de FullCalendar:",e)}},100);return()=>{clearTimeout(t),e&&e.destroy()}}},[u,l]);let v=e=>{o(e),p(e)};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"bg-gradient-to-br from-white to-gray-50 p-6 rounded-2xl border border-gray-200 shadow-sm",children:[(0,i.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold text-eeadb-blue mb-4 md:mb-0",children:"Calendrier des \xe9v\xe9nements"}),(0,i.jsxs)("div",{className:"flex gap-2 flex-wrap justify-center",children:[(0,i.jsxs)("button",{className:"px-5 py-2.5 rounded-xl transition-all duration-300 transform hover:scale-105 ".concat("dayGridMonth"===f?"bg-gradient-to-r from-eeadb-blue-600 to-eeadb-blue-700 text-white shadow-lg":"bg-white text-eeadb-blue-700 border border-eeadb-blue-200 hover:bg-eeadb-blue-50"),onClick:()=>v("dayGridMonth"),children:[(0,i.jsx)("i",{className:"fas fa-calendar-days mr-2"}),"Mois"]}),(0,i.jsxs)("button",{className:"px-5 py-2.5 rounded-xl transition-all duration-300 transform hover:scale-105 ".concat("timeGridWeek"===f?"bg-gradient-to-r from-eeadb-blue-600 to-eeadb-blue-700 text-white shadow-lg":"bg-white text-eeadb-blue-700 border border-eeadb-blue-200 hover:bg-eeadb-blue-50"),onClick:()=>v("timeGridWeek"),children:[(0,i.jsx)("i",{className:"fas fa-calendar-week mr-2"}),"Semaine"]}),(0,i.jsxs)("button",{className:"px-5 py-2.5 rounded-xl transition-all duration-300 transform hover:scale-105 ".concat("timeGridDay"===f?"bg-gradient-to-r from-eeadb-blue-600 to-eeadb-blue-700 text-white shadow-lg":"bg-white text-eeadb-blue-700 border border-eeadb-blue-200 hover:bg-eeadb-blue-50"),onClick:()=>v("timeGridDay"),children:[(0,i.jsx)("i",{className:"fas fa-calendar-day mr-2"}),"Jour"]})]})]}),(0,i.jsx)("div",{ref:x,className:"min-h-[600px] bg-white p-4 rounded-xl border border-gray-200 shadow-inner"}),(0,i.jsxs)("div",{className:"mt-8",children:[(0,i.jsxs)("h3",{className:"text-lg font-semibold text-eeadb-blue mb-4 flex items-center",children:[(0,i.jsx)("i",{className:"fas fa-list mr-2"}),"\xc9v\xe9nements \xe0 venir"]}),b?(0,i.jsx)("div",{className:"flex justify-center items-center h-40",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-eeadb-blue"})}):u.length>0?(0,i.jsx)("div",{className:"space-y-4",children:u.map((e,t)=>(0,i.jsxs)("div",{className:"bg-gradient-to-r from-white to-gray-50 p-5 rounded-xl border border-gray-200 flex items-start hover:shadow-md transition-all duration-300 cursor-pointer transform hover:-translate-y-0.5",onClick:()=>c(e),children:[(0,i.jsxs)("div",{className:"bg-gradient-to-b from-eeadb-blue-600 to-eeadb-blue-800 text-white p-4 rounded-lg text-center mr-5 min-w-[75px] shadow-md",children:[(0,i.jsx)("div",{className:"text-lg font-bold",children:new Date(e.start).getDate()}),(0,i.jsx)("div",{className:"text-xs uppercase tracking-wider",children:new Date(e.start).toLocaleDateString("fr-FR",{month:"short"}).toUpperCase()})]}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsx)("h4",{className:"font-bold text-lg text-eeadb-blue mb-1",children:e.title}),(0,i.jsxs)("div",{className:"flex items-center text-gray-600 mb-1",children:[(0,i.jsx)("i",{className:"fas fa-clock mr-2 text-eeadb-blue-500"}),(0,i.jsxs)("span",{children:[new Date(e.start).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})," -",new Date(e.end).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]}),e.location&&(0,i.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,i.jsx)("i",{className:"fas fa-location-dot mr-2 text-eeadb-blue-500"}),(0,i.jsx)("span",{children:e.location})]})]}),(0,i.jsx)("div",{className:"ml-4 flex items-center",children:(0,i.jsx)("i",{className:"fas fa-chevron-right text-gray-400"})})]},e.id||t))}):(0,i.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[(0,i.jsx)("div",{className:"inline-block p-4 bg-eeadb-blue-100 rounded-full mb-4",children:(0,i.jsx)("i",{className:"fas fa-calendar-check text-eeadb-blue-600 text-3xl"})}),(0,i.jsx)("h3",{className:"text-xl font-medium text-gray-800 mb-2",children:"Aucun \xe9v\xe9nement pr\xe9vu"}),(0,i.jsx)("p",{className:"text-gray-600",children:"Revenez bient\xf4t pour d\xe9couvrir nos prochains \xe9v\xe9nements"})]})]}),d&&(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50 backdrop-blur-sm transition-opacity duration-300",children:(0,i.jsxs)("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 relative transform transition-all duration-300 scale-100",children:[(0,i.jsx)("button",{className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full w-8 h-8 flex items-center justify-center transition-colors duration-200",onClick:()=>c(null),"aria-label":"Fermer la fen\xeatre de d\xe9tails",children:(0,i.jsx)("i",{className:"fas fa-times"})}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("div",{className:"inline-block bg-eeadb-blue-100 text-eeadb-blue-800 px-3 py-1 rounded-full text-sm font-medium mb-3",children:"\xc9v\xe9nement"}),(0,i.jsx)("h3",{className:"text-2xl font-bold text-eeadb-blue mb-3",children:d.title})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-start text-gray-700 p-3 bg-gray-50 rounded-lg",children:[(0,i.jsx)("i",{className:"fas fa-calendar-day mr-3 mt-1 text-eeadb-blue-500"}),(0,i.jsx)("span",{children:new Date(d.start).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,i.jsxs)("div",{className:"flex items-start text-gray-700 p-3 bg-gray-50 rounded-lg",children:[(0,i.jsx)("i",{className:"fas fa-clock mr-3 mt-1 text-eeadb-blue-500"}),(0,i.jsxs)("span",{children:[new Date(d.start).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})," -",new Date(d.end).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]}),d.location&&(0,i.jsxs)("div",{className:"flex items-start text-gray-700 p-3 bg-gray-50 rounded-lg",children:[(0,i.jsx)("i",{className:"fas fa-location-dot mr-3 mt-1 text-eeadb-blue-500"}),(0,i.jsx)("span",{children:d.location})]}),d.description&&(0,i.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,i.jsxs)("h4",{className:"font-semibold text-eeadb-blue mb-2 flex items-center",children:[(0,i.jsx)("i",{className:"fas fa-info-circle mr-2"}),"Description"]}),(0,i.jsx)("p",{className:"text-gray-700 leading-relaxed",children:d.description})]})]})]})})]})})}},3674:function(e,t,r){r.d(t,{jh:function(){return m},lR:function(){return d},vw:function(){return c},wP:function(){return u}});let a="/eeadb-tchirimina",s={"verset_du_jour.json":"".concat(a,"/api/verset_du_jour.json"),"events.json":"".concat(a,"/api/events.json"),"photos.json":"".concat(a,"/api/photos.json"),"resources.json":"".concat(a,"/api/resources.json")},i={verset:{date:new Date().toISOString().split("T")[0],text:"Apportez toutes les d\xeemes \xe0 la maison du tr\xe9sor, afin qu'il y ait de la nourriture dans ma maison; mettez-moi ainsi \xe0 l'\xe9preuve, dit l'\xc9ternel des arm\xe9es, et voyez si je ne vous ouvre pas les fen\xeatres des cieux, si je ne r\xe9pands pas sur vous une b\xe9n\xe9diction jusqu'\xe0 ce qu'il n'y ait plus de place.",reference:"Malachie 3:10",source:"Bible Segond 21"},events:[{id:"fallback-1",title:"Culte dominical",start:new Date().toISOString(),end:new Date(Date.now()+72e5).toISOString(),description:"Culte hebdomadaire du dimanche matin",location:"Temple BERACA"}],photos:[{id:1,src:"/images/placeholder-culte.svg",alt:"Culte dominical",title:"Culte du dimanche matin",description:"Notre culte hebdomadaire du dimanche"},{id:2,src:"/images/placeholder-priere.svg",alt:"Groupe de pri\xe8re",title:"Groupe de pri\xe8re",description:"Groupe de pri\xe8re intercession"},{id:3,src:"/images/placeholder-ecole.svg",alt:"\xc9cole dominicale",title:"\xc9cole dominicale",description:"\xc9cole biblique pour enfants"}],resources:[{id:1,title:"Guide de pri\xe8re",description:"Guide complet sur la pri\xe8re dans la vie chr\xe9tienne",type:"document",date:new Date().toISOString().split("T")[0]},{id:2,title:"\xc9tude sur la sanctification",description:"\xc9tude approfondie sur la sanctification progressive",type:"document",date:new Date().toISOString().split("T")[0]},{id:3,title:"Cantiques et louanges",description:"Collection de cantiques et chants d'adoration",type:"audio",date:new Date().toISOString().split("T")[0]}]},n=e=>Object.keys(s).includes(e),l=async e=>{try{let t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"},signal:AbortSignal.timeout(5e3)});if(!t.ok)throw Error("Erreur HTTP: ".concat(t.status));let r=await t.json();if(!r||Array.isArray(r)&&0===r.length)throw Error("Donn\xe9es vides re\xe7ues");return r}catch(t){return console.warn("[DataService] Erreur lors du chargement depuis ".concat(e,": ").concat(t.message)),null}},o=async e=>{if(!n(e))return console.warn("[DataService] Endpoint non autoris\xe9: ".concat(e)),i[e.split(".")[0]]||[];let t=s[e];return await l(t)||i[e.split(".")[0]]||[]},d=async()=>{try{let e=await o("verset_du_jour.json");if(!e||!e.verset&&!e.text)throw Error("Structure de donn\xe9es invalide");return{text:e.verset||e.text,reference:e.reference||"R\xe9f\xe9rence non disponible",source:e.source||"Source inconnue"}}catch(e){return console.warn("[DataService] Erreur getVersetDuJour, utilisation fallback"),i.verset}},c=async()=>{try{let e=await o("events.json");return Array.isArray(e)?e:i.events}catch(e){return console.warn("[DataService] Erreur getEvents, utilisation fallback"),i.events}},u=async()=>{try{let e=await o("photos.json");return Array.isArray(e)?e:i.photos}catch(e){return console.warn("[DataService] Erreur getPhotos, utilisation fallback"),i.photos}},m=async()=>{try{let e=await o("resources.json");return Array.isArray(e)?e:i.resources}catch(e){return console.warn("[DataService] Erreur getResources, utilisation fallback"),i.resources}}}}]);