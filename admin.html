<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>EEADB-Tchirimina — Admin (mise à jour)</title>
  <meta name="theme-color" content="#1e3a8a" />
  <link href="assets/main.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />
  <script defer src="assets/admin.js"></script>
</head>
<body>
  <header id="main-header"></header>
  <nav id="main-nav"></nav>
  <main>
    <section class="card">
      <h2><i class="fa-solid fa-user-shield"></i> Accès réservé</h2>
      <p>Pour enregistrer des mises à jour, entrez votre clé d’administration (fournie par les responsables) et l’URL du service de mise à jour.</p>
      <label>URL endpoint admin (serverless)<br><input id="admin-endpoint" placeholder="https://votre-service/admin/update"></label>
      <label>Clé d’administration (X-API-KEY)<br><input id="admin-key" placeholder="Votre clé" type="password"></label>
      <div id="admin-status" class="tag" aria-live="polite"></div>
    </section>

    <section class="card">
      <h3><i class="fa-solid fa-church"></i> Présentation</h3>
      <p class="tag">Aucune information n’est obligatoire. Seuls les champs renseignés seront mis à jour.</p>
      <label>Mission<br><textarea id="p-mission" placeholder="Mission"></textarea></label>
      <label>Valeurs (séparées par des sauts de ligne)<br><textarea id="p-valeurs" placeholder="Valeurs"></textarea></label>
      <label>Histoire (paragraphes, un par ligne)<br><textarea id="p-histoire" placeholder="Histoire"></textarea></label>
      <label>Ministères (JSON, ex: [{"nom":"...","responsable":"...","description":"..."}])<br><textarea id="p-ministeres" placeholder="[]"></textarea></label>
      <button data-action="update-presentation">Enregistrer Présentation</button>
    </section>

    <section class="card">
      <h3><i class="fa-solid fa-clock"></i> Activités</h3>
      <p class="tag">Saisissez une liste JSON d’activités. Exemple: [{"titre":"Culte","jour":"Dimanche","heure":"10h–12h"}]</p>
      <label>Données (JSON)<br><textarea id="a-json" placeholder="[]"></textarea></label>
      <button data-action="update-activites">Enregistrer Activités</button>
    </section>

    <section class="card">
      <h3><i class="fa-solid fa-images"></i> Galerie</h3>
      <p class="tag">Ajoutez/modifiez les entrées de site/data/gallery.json (thumb, src, title, description). Aucun champ n’est obligatoire.</p>
      <label>Données (JSON)<br><textarea id="g-json" placeholder="[]"></textarea></label>
      <button data-action="update-galerie">Enregistrer Galerie</button>
    </section>

    <section class="card">
      <h3><i class="fa-solid fa-folder-open"></i> Ressources</h3>
      <p class="tag">Modifiez site/data/ressources.json (title, url, type: pdf|audio, date, speaker). Aucun champ obligatoire.</p>
      <label>Données (JSON)<br><textarea id="r-json" placeholder="[]"></textarea></label>
      <button data-action="update-ressources">Enregistrer Ressources</button>
    </section>

    <section class="card">
      <h3><i class="fa-solid fa-calendar-days"></i> Calendrier</h3>
      <p class="tag">Modifiez site/data/events.json (id,title,start,end,description,location,category).</p>
      <label>Données (JSON)<br><textarea id="e-json" placeholder="[]"></textarea></label>
      <button data-action="update-events">Enregistrer Événements</button>
    </section>

    <section class="card">
      <h3><i class="fa-solid fa-book-bible"></i> Versets</h3>
      <p class="tag">Modifiez la liste site/data/versets.json. Le workflow quotidien sélectionnera un verset aléatoire.</p>
      <label>Données (JSON)<br><textarea id="v-json" placeholder="[]"></textarea></label>
      <button data-action="update-versets">Enregistrer Versets</button>
    </section>
  </main>

  <footer>
    <p>EEADB-Tchirimina — Zone Admin</p>
  </footer>
</body>
</html>