(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[139],{7365:function(e,t,a){Promise.resolve().then(a.bind(a,6644)),Promise.resolve().then(a.bind(a,9785))},9785:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return n}});var r=a(2265),s=a(2880),l=a(7437),o=e=>{let{src:t,alt:a,width:o=400,height:i=300,className:n="",priority:c=!1,...d}=e,[u,h]=(0,r.useState)(!0),[m,g]=(0,r.useState)(!1);return m?(0,l.jsx)("div",{className:"".concat(n," bg-gray-100 flex items-center justify-center"),style:{width:o,height:i},children:(0,l.jsxs)("div",{className:"text-gray-400 text-sm",children:[(0,l.jsx)("i",{className:"fas fa-image mr-2"}),"Image non disponible"]})}):(0,l.jsxs)("div",{className:"relative ".concat(n),style:{width:o,height:i},children:[u&&(0,l.jsx)("div",{className:"absolute inset-0 bg-gray-100 animate-pulse flex items-center justify-center",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-eeadb-blue"})}),(0,l.jsx)(s.default,{src:t,alt:a,width:o,height:i,className:"transition-opacity duration-300 ".concat(u?"opacity-0":"opacity-100"," object-cover w-full h-full"),onLoad:()=>{h(!1)},onError:()=>{g(!0),h(!1)},loading:c?"eager":"lazy",quality:75,placeholder:"blur",blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAIAAoDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAhEAACAQMDBQAAAAAAAAAAAAABAgMABAUGIWGRkqGx0f/EABUBAQEAAAAAAAAAAAAAAAAAAAMF/8QAGhEAAgIDAAAAAAAAAAAAAAAAAAECEgMRkf/aAAwDAQACEQMRAD8AltJagyeH0AthI5xdrLcNM91BF5pX2HaUMk9j3gA4CUG6JOXUc4ap\n",...d})]})},i=a(3674),n=e=>{let{photos:t=[],title:a="Galerie Photo",description:n="D\xe9couvrez nos moments de partage et de c\xe9l\xe9bration"}=e,[c,d]=(0,r.useState)(t),[u,h]=(0,r.useState)(t),[m,g]=(0,r.useState)("all"),[p,A]=(0,r.useState)(""),[f,x]=(0,r.useState)(null),[b,v]=(0,r.useState)(0),[y,j]=(0,r.useState)(0===t.length),w=["all",...new Set(c.map(e=>e.category||"autre"))];(0,r.useEffect)(()=>{(async()=>{try{if(t&&t.length>0)d(t);else{let e=await (0,i.wP)();d(e)}}catch(e){console.error("Erreur lors du chargement des photos:",e),d([])}finally{j(!1)}})()},[t]),(0,r.useEffect)(()=>{let e=c;if("all"!==m&&(e=e.filter(e=>e.category===m)),p){let t=p.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t))}h(e)},[m,p,c]);let N=()=>{let e=(b+1)%c.length;v(e),x(c[e])},C=()=>{let e=0===b?c.length-1:b-1;v(e),x(c[e])};return(0,r.useEffect)(()=>{let e=e=>{f&&("Escape"===e.key?x(null):"ArrowRight"===e.key?N():"ArrowLeft"===e.key&&C())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[f,b,c]),(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsxs)("div",{className:"text-center mb-10",children:[(0,l.jsx)("h2",{className:"text-3xl font-bold text-eeadb-blue mb-4",children:a}),(0,l.jsx)("p",{className:"text-gray-600",children:n})]}),(0,l.jsxs)("div",{className:"bg-blue-50 p-6 rounded-xl border border-gray-200 mb-8",children:[(0,l.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"block text-eeadb-blue font-medium mb-2",children:"Recherche"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{type:"search",placeholder:"Rechercher dans les photos...",className:"w-full p-3 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-eeadb-blue focus:border-transparent",value:p,onChange:e=>A(e.target.value),"aria-label":"Rechercher dans les photos"}),(0,l.jsx)("i",{className:"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),p&&(0,l.jsx)("button",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>A(""),"aria-label":"Effacer la recherche",children:(0,l.jsx)("i",{className:"fas fa-times"})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-eeadb-blue font-medium mb-2",children:"Cat\xe9gorie"}),(0,l.jsx)("select",{className:"p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-eeadb-blue focus:border-transparent",value:m,onChange:e=>g(e.target.value),"aria-label":"Filtrer par cat\xe9gorie",children:w.map(e=>(0,l.jsx)("option",{value:e,children:"all"===e?"Toutes les cat\xe9gories":e},e))})]})]}),(0,l.jsxs)("div",{className:"mt-4 text-gray-600",children:[u.length," ",1===u.length?"photo":"photos"," trouv\xe9e",u.length>1?"s":""]})]}),y?(0,l.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-eeadb-blue"})}):0===u.length?(0,l.jsxs)("div",{className:"text-center py-16",children:[(0,l.jsx)("i",{className:"fas fa-images text-5xl text-gray-300 mb-4","aria-hidden":"true"}),(0,l.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"Aucune photo trouv\xe9e"}),(0,l.jsx)("p",{className:"text-gray-500",children:"Essayez de modifier vos crit\xe8res de recherche"})]}):(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:u.map((e,t)=>(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg hover:transform hover:translate-y-[-5px] transition-all duration-300 cursor-pointer",onClick:()=>{let t=c.findIndex(t=>t.id===e.id);v(t),x(c[t])},tabIndex:"0",onKeyDown:t=>{if("Enter"===t.key||" "===t.key){let t=c.findIndex(t=>t.id===e.id);v(t),x(c[t])}},role:"button","aria-label":"Voir la photo: ".concat(e.title),children:[(0,l.jsx)("div",{className:"aspect-square overflow-hidden",children:(0,l.jsx)(o,{src:e.src,alt:e.title,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-105",width:400,height:400})}),(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)("h3",{className:"font-semibold text-eeadb-blue truncate",children:e.title}),(0,l.jsx)("p",{className:"text-sm text-gray-500 mt-1 truncate",children:e.date})]})]},e.id||t))}),f&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-50 flex items-center justify-center p-4",onClick:()=>x(null),children:(0,l.jsxs)("div",{className:"relative max-w-6xl w-full max-h-[90vh]",onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("button",{className:"absolute top-4 right-4 text-white bg-black bg-opacity-50 rounded-full p-2 z-10 hover:bg-opacity-75 focus:outline-none focus:ring-2 focus:ring-yellow-400",onClick:()=>x(null),"aria-label":"Fermer la vue d\xe9taill\xe9e",children:(0,l.jsx)("i",{className:"fas fa-times text-xl"})}),(0,l.jsx)("button",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white bg-black bg-opacity-50 rounded-full p-3 z-10 hover:bg-opacity-75 focus:outline-none focus:ring-2 focus:ring-yellow-400",onClick:C,"aria-label":"Photo pr\xe9c\xe9dente",children:(0,l.jsx)("i",{className:"fas fa-chevron-left text-xl"})}),(0,l.jsx)("button",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white bg-black bg-opacity-50 rounded-full p-3 z-10 hover:bg-opacity-75 focus:outline-none focus:ring-2 focus:ring-yellow-400",onClick:N,"aria-label":"Photo suivante",children:(0,l.jsx)("i",{className:"fas fa-chevron-right text-xl"})}),(0,l.jsx)("div",{className:"relative w-full h-[80vh]",children:(0,l.jsx)(s.default,{src:f.src,alt:f.title,fill:!0,className:"object-contain",sizes:"100vw",priority:!0})}),(0,l.jsxs)("div",{className:"absolute bottom-4 left-0 right-0 text-center text-white p-2 bg-black bg-opacity-50 rounded-t-lg",children:[(0,l.jsx)("h3",{className:"font-bold text-lg",children:f.title}),(0,l.jsxs)("p",{className:"text-sm",children:[f.date," | ",f.location]})]})]})})]})}},3674:function(e,t,a){"use strict";a.d(t,{jh:function(){return h},lR:function(){return c},vw:function(){return d},wP:function(){return u}});let r="/eeadb-tchirimina",s={"verset_du_jour.json":"".concat(r,"/api/verset_du_jour.json"),"events.json":"".concat(r,"/api/events.json"),"photos.json":"".concat(r,"/api/photos.json"),"resources.json":"".concat(r,"/api/resources.json")},l={verset:{date:new Date().toISOString().split("T")[0],text:"Apportez toutes les d\xeemes \xe0 la maison du tr\xe9sor, afin qu'il y ait de la nourriture dans ma maison; mettez-moi ainsi \xe0 l'\xe9preuve, dit l'\xc9ternel des arm\xe9es, et voyez si je ne vous ouvre pas les fen\xeatres des cieux, si je ne r\xe9pands pas sur vous une b\xe9n\xe9diction jusqu'\xe0 ce qu'il n'y ait plus de place.",reference:"Malachie 3:10",source:"Bible Segond 21"},events:[{id:"fallback-1",title:"Culte dominical",start:new Date().toISOString(),end:new Date(Date.now()+72e5).toISOString(),description:"Culte hebdomadaire du dimanche matin",location:"Temple BERACA"}],photos:[{id:1,src:"/images/placeholder-culte.svg",alt:"Culte dominical",title:"Culte du dimanche matin",description:"Notre culte hebdomadaire du dimanche"},{id:2,src:"/images/placeholder-priere.svg",alt:"Groupe de pri\xe8re",title:"Groupe de pri\xe8re",description:"Groupe de pri\xe8re intercession"},{id:3,src:"/images/placeholder-ecole.svg",alt:"\xc9cole dominicale",title:"\xc9cole dominicale",description:"\xc9cole biblique pour enfants"}],resources:[{id:1,title:"Guide de pri\xe8re",description:"Guide complet sur la pri\xe8re dans la vie chr\xe9tienne",type:"document",date:new Date().toISOString().split("T")[0]},{id:2,title:"\xc9tude sur la sanctification",description:"\xc9tude approfondie sur la sanctification progressive",type:"document",date:new Date().toISOString().split("T")[0]},{id:3,title:"Cantiques et louanges",description:"Collection de cantiques et chants d'adoration",type:"audio",date:new Date().toISOString().split("T")[0]}]},o=e=>Object.keys(s).includes(e),i=async e=>{try{let t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"},signal:AbortSignal.timeout(5e3)});if(!t.ok)throw Error("Erreur HTTP: ".concat(t.status));let a=await t.json();if(!a||Array.isArray(a)&&0===a.length)throw Error("Donn\xe9es vides re\xe7ues");return a}catch(t){return console.warn("[DataService] Erreur lors du chargement depuis ".concat(e,": ").concat(t.message)),null}},n=async e=>{if(!o(e))return console.warn("[DataService] Endpoint non autoris\xe9: ".concat(e)),l[e.split(".")[0]]||[];let t=s[e];return await i(t)||l[e.split(".")[0]]||[]},c=async()=>{try{let e=await n("verset_du_jour.json");if(!e||!e.verset&&!e.text)throw Error("Structure de donn\xe9es invalide");return{text:e.verset||e.text,reference:e.reference||"R\xe9f\xe9rence non disponible",source:e.source||"Source inconnue"}}catch(e){return console.warn("[DataService] Erreur getVersetDuJour, utilisation fallback"),l.verset}},d=async()=>{try{let e=await n("events.json");return Array.isArray(e)?e:l.events}catch(e){return console.warn("[DataService] Erreur getEvents, utilisation fallback"),l.events}},u=async()=>{try{let e=await n("photos.json");return Array.isArray(e)?e:l.photos}catch(e){return console.warn("[DataService] Erreur getPhotos, utilisation fallback"),l.photos}},h=async()=>{try{let e=await n("resources.json");return Array.isArray(e)?e:l.resources}catch(e){return console.warn("[DataService] Erreur getResources, utilisation fallback"),l.resources}}}},function(e){e.O(0,[877,644,971,529,744],function(){return e(e.s=7365)}),_N_E=e.O()}]);